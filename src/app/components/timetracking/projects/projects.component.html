<div class="container">
    <h1 i18n>Projekte für den ausgewählten Vertrag</h1>
    <div *ngIf="!projects" class="spinner-grow text-muted"></div>
    <div class="container row">
        <app-date-range-filter (loadFilteredEntries)="loadFilteredEntries($event)"
                               *ngIf="projects"></app-date-range-filter>
        <app-dropdown-filter (loadFilteredEntries)="loadFilteredEntries($event)" *ngIf="projects"></app-dropdown-filter>
    </div>
    <ngb-accordion #a="ngbAccordion" *ngIf="projects" [destroyOnHide]="true" activeIds="custom-panel-1">
        <ngb-panel *ngFor="let project of projects;index as i">
            <ng-template ngbPanelHeader>
                <div class="d-flex align-items-center justify-content-between">
                    <h5 class="m-0">{{ project.Description}}</h5>
                    <div>
                        <button class="btn btn-sm btn-outline-primary ml-2" ngbPanelToggle>Auswählen</button>
                    </div>
                </div>
            </ng-template>
            <ng-template ngbPanelContent>
                <app-entries [index]="i" [projectId]="project.id"></app-entries>
            </ng-template>
        </ngb-panel>
    </ngb-accordion>
</div>
